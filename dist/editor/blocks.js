(()=>{var e={251:(e,t,o)=>{"use strict";var n=o(196),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var n,l={},c=null,u=null;for(n in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!i.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:u,props:l,_owner:s.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},893:(e,t,o)=>{"use strict";e.exports=o(251)},196:e=>{"use strict";e.exports=window.React},967:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=a(e,l(o)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)n.call(e,o)&&e[o]&&(t=a(t,o));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};o.r(e),o.d(e,{init:()=>O,name:()=>H,settings:()=>z});var t=window.wp.blocks,n=o(196),r=window.wp.primitives;var l=(0,n.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(r.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"travelopia/table","title":"Table","description":"Create structured content in rows and columns to display information.","category":"text","textdomain":"tp","supports":{"anchor":true,"className":true,"customClassName":true,"html":false,"alignWide":false},"providesContext":{"travelopia/table-id":"blockId","travelopia/table-total-rows":"rows","travelopia/table-total-columns":"columns","travelopia/table-has-thead":"hasThead","travelopia/table-has-tfoot":"hasTfoot"},"attributes":{"anchor":{"type":"string","default":""},"rows":{"type":"number","default":0},"columns":{"type":"number","default":0},"blockId":{"type":"string","default":""},"hasThead":{"type":"boolean","default":false},"hasTfoot":{"type":"boolean","default":false}}}'),s=o(893),i=window.wp.i18n,c=window.wp.blockEditor,u=window.wp.element,p=window.wp.components,d=window.wp.data,v=o(967),h=o.n(v);function m(e){const{setAttributes:t,clientId:o}=e,[n,r]=(0,u.useState)(2),[a,d]=(0,u.useState)(2);return(0,s.jsx)(p.Placeholder,{label:(0,i.__)("Table","tp"),icon:(0,s.jsx)(c.BlockIcon,{icon:l,showColors:!0}),instructions:(0,i.__)("Insert a table for sharing data.","tp"),children:(0,s.jsxs)("form",{className:"travelopia-table__placeholder-form",onSubmit:e=>{e.preventDefault(),t({rows:n,columns:a}),S("tbody",o)},children:[(0,s.jsx)(p.TextControl,{type:"number",label:(0,i.__)("Column count","tp"),value:a,onChange:e=>d(parseInt(e)),min:"1",className:"travelopia-table__placeholder-input"}),(0,s.jsx)(p.TextControl,{type:"number",label:(0,i.__)("Row count","tp"),value:n,onChange:e=>r(parseInt(e)),min:"1",className:"travelopia-table__placeholder-input"}),(0,s.jsx)(p.Button,{variant:"primary",type:"submit",children:(0,i.__)("Create Table","tp")})]})})}var b=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"travelopia/table-row-container","title":"Row Container","description":"A container for a row (THEAD, TBODY, TFOOT).","parent":["travelopia/table"],"category":"text","textdomain":"tp","keywords":["thead","tbody","tfoot","table"],"supports":{"html":false},"providesContext":{"travelopia/table-row-container-type":"type","travelopia/table-row-container-sticky":"isSticky","travelopia/table-row-container-id":"blockId"},"attributes":{"type":{"type":"string","default":"tbody"},"isSticky":{"type":"boolean","default":false},"blockId":{"type":"string"}}}'),w=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"travelopia/table-row","title":"Row","description":"Individual row of the table.","parent":["travelopia/table-row-container"],"category":"text","textdomain":"tp","keywords":["row","table"],"supports":{"html":true,"color":{"text":true,"background":true},"__experimentalBorder":{"color":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"style":true,"width":true}}},"usesContext":["travelopia/table-row-container-type"],"attributes":{"blockId":{"type":"string"}}}'),f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"travelopia/table-column","title":"Column","description":"Individual column of the table.","parent":["travelopia/table-row"],"category":"text","textdomain":"tp","keywords":["column","table"],"supports":{"html":true,"color":{"text":true,"background":true},"align":["left","center","right"],"__experimentalBorder":{"color":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"style":true,"width":true}}},"providesContext":{"travelopia/table-row":"row","travelopia/table-column":"column","travelopia/table-column-id":"blockId"},"usesContext":["travelopia/table-row-container-type","travelopia/table-row-container-id"],"attributes":{"row":{"type":"number"},"column":{"type":"number"},"colSpan":{"type":"number"},"rowSpan":{"type":"number"},"isSticky":{"type":"boolean"},"blockId":{"type":"string"}}}'),k=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"travelopia/table-cell","title":"Cell","description":"Individual cell of the table.","parent":["travelopia/table-column"],"category":"text","textdomain":"tp","keywords":["cell","table"],"supports":{"anchor":false,"className":false,"customClassName":false,"html":true,"alignWide":false},"attributes":{"content":{"type":"string","source":"html"}}}');const{name:g}=k,y=Object.assign(Object.assign({},k),{icon:l,edit:function(e){const{attributes:t,setAttributes:o}=e,n=(0,c.useBlockProps)({className:"travelopia-table__cell"});return(0,s.jsx)(c.RichText,Object.assign({tagName:"span"},n,{placeholder:(0,i.__)("Cell content","tp"),onChange:e=>o({content:e}),value:t.content}))},save:function({attributes:e}){return(0,s.jsx)(c.RichText.Content,{value:e.content})}});const{name:x}=f,_=Object.assign(Object.assign({},f),{icon:l,edit:function({className:e,clientId:t,attributes:o,setAttributes:n,context:r}){const l=(0,c.useBlockProps)({className:h()(e,"travelopia-table__column",{"travelopia-table__column--sticky":o.isSticky})}),a=r["travelopia/table-row-container-type"],v=(0,c.useInnerBlocksProps)(Object.assign(Object.assign({},l),{colSpan:o.colSpan,rowSpan:o.rowSpan}),{template:[[g]],templateLock:!1}),{row:m,column:b}=(0,d.useSelect)((e=>{const o=e(c.store).getBlockIndex(t),n=e(c.store).getBlockRootClientId(t);return{row:e(c.store).getBlockIndex(n)+1,column:o+1}}),[t]);(0,u.useEffect)((()=>{n({row:m,column:b})}),[m,b,n]),(0,u.useEffect)((()=>{n({blockId:t})}),[t,n]);let w="td";return"tbody"!==a&&(w="th"),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.InspectorControls,{children:(0,s.jsx)(p.PanelBody,{title:(0,i.__)("Column Options","tp"),children:(0,s.jsx)(p.ToggleControl,{label:(0,i.__)("Is Sticky","tp"),checked:o.isSticky,onChange:e=>n({isSticky:e}),help:(0,i.__)("Is this column sticky?","tp")})})}),(0,s.jsx)(w,Object.assign({},v))]})},save:function(){return(0,s.jsx)(c.InnerBlocks.Content,{})}});const{name:B}=w,I=Object.assign(Object.assign({},w),{icon:l,edit:function(e){const{className:t,clientId:o,setAttributes:n}=e,r=(0,c.useBlockProps)({className:h()(t,"travelopia-table__row")}),l=(0,c.useInnerBlocksProps)(Object.assign({},r),{allowedBlocks:[x],templateLock:!1});return(0,u.useEffect)((()=>{n({blockId:o})}),[o,n]),(0,s.jsx)("tr",Object.assign({},l))},save:function(){return(0,s.jsx)(c.InnerBlocks.Content,{})}});const{name:j}=b,V=Object.assign(Object.assign({},b),{icon:l,edit:function(e){const{className:t,attributes:o,setAttributes:n,clientId:r}=e,l=(0,c.useBlockProps)({className:h()(t,"travelopia-table__row-container",{"travelopia-table__row-container--sticky":o.isSticky})}),a=(0,c.useInnerBlocksProps)(Object.assign({},l),{allowedBlocks:[B]}),d=o.type;return(0,u.useEffect)((()=>{n({blockId:r})}),[r,n]),(0,s.jsxs)(s.Fragment,{children:["thead"===o.type&&(0,s.jsx)(c.InspectorControls,{children:(0,s.jsx)(p.PanelBody,{title:(0,i.__)("Row Container Options","tp"),children:(0,s.jsx)(p.ToggleControl,{label:(0,i.__)("Is Sticky vertically","tp"),checked:o.isSticky,onChange:e=>n({isSticky:e}),help:(0,i.__)("Is this container sticky?","tp")})})}),(0,s.jsx)(d,Object.assign({},a))]})},save:function(){return(0,s.jsx)(c.InnerBlocks.Content,{})}}),S=(e="tbody",o="")=>{const n=(0,d.select)("core/block-editor").getBlock(o);if(!n)return;const r=(0,t.createBlock)(j,{type:e});let l=n.attributes.rows;"tbody"!==e&&(l=1);for(let e=0;e<l;e++){const e=[];for(let o=0;o<n.attributes.columns;o++)e.push((0,t.createBlock)(x,{},[(0,t.createBlock)(g)]));r.innerBlocks.push((0,t.createBlock)(B,{},e))}if("tbody"===e)(0,d.dispatch)("core/block-editor").replaceInnerBlocks(o,[r]);else{const t="thead"===e?0:n.innerBlocks.length;(0,d.dispatch)("core/block-editor").insertBlock(r,t,o)}},C=(e="thead",t="")=>{const o=(0,d.select)("core/block-editor").getBlock(t);o&&o.innerBlocks.length&&o.innerBlocks.forEach((t=>{var o;(null===(o=t.attributes)||void 0===o?void 0:o.type)===e&&(0,d.dispatch)("core/block-editor").removeBlock(t.clientId)}))};const{name:H}=a,z=Object.assign(Object.assign({},a),{icon:l,edit:function(e){const{className:t,attributes:o,clientId:n,setAttributes:r}=e,l=(0,c.useBlockProps)({className:h()(t,"travelopia-table")}),a=(0,c.useInnerBlocksProps)({},{allowedBlocks:[j],renderAppender:void 0});return(0,u.useEffect)((()=>{r({blockId:n})}),[n,r]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.InspectorControls,{children:(0,s.jsxs)(p.PanelBody,{title:(0,i.__)("Table Options","tp"),children:[(0,s.jsx)(p.ToggleControl,{label:(0,i.__)("Has THEAD","tp"),checked:o.hasThead,onChange:e=>{e?S("thead",n):C("thead",n),r({hasThead:e})},help:(0,i.__)("Does this table have a header?","tp")}),(0,s.jsx)(p.ToggleControl,{label:(0,i.__)("Has TFOOT","tp"),checked:o.hasTfoot,onChange:e=>{e?S("tfoot",n):C("tfoot",n),r({hasTfoot:e})},help:(0,i.__)("Does this table have a footer?","tp")})]})}),(0,s.jsxs)("figure",Object.assign({},l,{children:[(0===o.rows||0===o.columns)&&(0,s.jsx)(m,Object.assign({},e)),(0!==o.rows||0!==o.columns)&&(0,s.jsx)("table",Object.assign({},a))]}))]})},save:function(){return(0,s.jsx)(c.InnerBlocks.Content,{})}}),O=()=>{(0,t.registerBlockType)(H,z),(0,t.registerBlockType)(B,I),(0,t.registerBlockType)(j,V),(0,t.registerBlockType)(x,_),(0,t.registerBlockType)(g,y)};var E=window.wp.hooks;var T=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(r.Path,{d:"M6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84zM6.656 6.464h2.88v2.88h1.408v-2.88h2.88V5.12h-2.88V2.24H9.536v2.88h-2.88zM0 17.92V0h20.48v17.92H0zm7.68-2.56h5.12v-3.84H7.68v3.84zm-6.4 0H6.4v-3.84H1.28v3.84zM19.2 1.28H1.28v9.024H19.2V1.28zm0 10.24h-5.12v3.84h5.12v-3.84z"}));var P=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(r.Path,{d:"M13.824 10.176h-2.88v-2.88H9.536v2.88h-2.88v1.344h2.88v2.88h1.408v-2.88h2.88zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm6.4 0H7.68v3.84h5.12V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.056H1.28v9.024H19.2V6.336z"}));var M=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(r.Path,{d:"M17.728 11.456L14.592 8.32l3.2-3.2-1.536-1.536-3.2 3.2L9.92 3.648 8.384 5.12l3.2 3.2-3.264 3.264 1.536 1.536 3.264-3.264 3.136 3.136 1.472-1.536zM0 17.92V0h20.48v17.92H0zm19.2-6.4h-.448l-1.28-1.28H19.2V6.4h-1.792l1.28-1.28h.512V1.28H1.28v3.84h6.208l1.28 1.28H1.28v3.84h7.424l-1.28 1.28H1.28v3.84H19.2v-3.84z"}));var N=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(r.Path,{d:"M6.4 3.776v3.648H2.752v1.792H6.4v3.648h1.728V9.216h3.712V7.424H8.128V3.776zM0 17.92V0h20.48v17.92H0zM12.8 1.28H1.28v14.08H12.8V1.28zm6.4 0h-5.12v3.84h5.12V1.28zm0 5.12h-5.12v3.84h5.12V6.4zm0 5.12h-5.12v3.84h5.12v-3.84z"}));var D=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(r.Path,{d:"M14.08 12.864V9.216h3.648V7.424H14.08V3.776h-1.728v3.648H8.64v1.792h3.712v3.648zM0 17.92V0h20.48v17.92H0zM6.4 1.28H1.28v3.84H6.4V1.28zm0 5.12H1.28v3.84H6.4V6.4zm0 5.12H1.28v3.84H6.4v-3.84zM19.2 1.28H7.68v14.08H19.2V1.28z"}));var A=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(r.Path,{d:"M6.4 9.98L7.68 8.7v-.256L6.4 7.164V9.98zm6.4-1.532l1.28-1.28V9.92L12.8 8.64v-.192zm7.68 9.472V0H0v17.92h20.48zm-1.28-2.56h-5.12v-1.024l-.256.256-1.024-1.024v1.792H7.68v-1.792l-1.024 1.024-.256-.256v1.024H1.28V1.28H6.4v2.368l.704-.704.576.576V1.216h5.12V3.52l.96-.96.32.32V1.216h5.12V15.36zm-5.76-2.112l-3.136-3.136-3.264 3.264-1.536-1.536 3.264-3.264L5.632 5.44l1.536-1.536 3.136 3.136 3.2-3.2 1.536 1.536-3.2 3.2 3.136 3.136-1.536 1.536z"}));var R=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(r.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"}));var G=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(r.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"}));var L=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(r.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"}));var F=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(r.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"}));var $=(0,n.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(r.Path,{d:"M4 6v11.5h16V6H4zm1.5 1.5h6V11h-6V7.5zm0 8.5v-3.5h6V16h-6zm13 0H13v-3.5h5.5V16zM13 11V7.5h5.5V11H13z"}));function J({isSelected:e,tableId:o,tableRow:n,tableColumn:r,rowContainerId:l,columnId:a}){const{getBlock:v,canInsertBlockType:h,getBlockAttributes:m,getAdjacentBlockClientId:b,canRemoveBlock:w}=(0,d.select)("core/block-editor"),{removeBlock:f,removeBlocks:k,insertBlock:y,updateBlockAttributes:_,moveBlocksToPosition:I}=(0,d.dispatch)("core/block-editor"),[V,S]=(0,u.useState)(0),[C,H]=(0,u.useState)(0),z=(0,u.useMemo)((()=>{var e,t;return null===(t=null===(e=v(l))||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.type}),[l,v]);(0,u.useEffect)((()=>{const e=v(o);e?e.innerBlocks.some((e=>{if(e.name!==j||!e.innerBlocks.length)return!1;let t=0;return e.innerBlocks.forEach(((e,o)=>{e.name===B&&e.innerBlocks.length&&(o+1===n&&S(e.innerBlocks.length),e.innerBlocks.forEach(((e,o)=>{e.name===x&&o+1===r&&t++})))})),H(t),!0})):S(0)}),[n,r,v,o]);const O=(e=0)=>{var r,a;const s=v(o);if(!s)return;if(!h(B,l))return;const i=[];for(let e=0;e<(null===(r=s.attributes)||void 0===r?void 0:r.columns);e++)i.push((0,t.createBlock)(x,{},[(0,t.createBlock)(g)]));const c=(0,t.createBlock)(B,{},i);y(c,n+e,l),_(o,{rows:(null===(a=s.attributes)||void 0===a?void 0:a.rows)+1})},E=(e=0)=>{var n;const a=v(o);if(!a)return;v(l)&&(a.innerBlocks.forEach((o=>{o.name===j&&o.innerBlocks.forEach((o=>{if(o.name!==B)return;if(!h(x,o.clientId))return;const n=(0,t.createBlock)(x,{},[(0,t.createBlock)(g)]);y(n,r+e,o.clientId)}))})),_(o,{columns:(null===(n=a.attributes)||void 0===n?void 0:n.columns)+1}))},J=(e,t)=>{var o,n,r,l;const a=m(t.clientId),s=m(e.clientId);if(parseInt(null!==(o=null==a?void 0:a.rowSpan)&&void 0!==o?o:1)!==parseInt(null!==(n=null==s?void 0:s.rowSpan)&&void 0!==n?n:1))return;const i=parseInt(null!==(r=null==a?void 0:a.colSpan)&&void 0!==r?r:1),c=parseInt(null!==(l=null==s?void 0:s.colSpan)&&void 0!==l?l:1);_(t.clientId,{colSpan:i+c}),I(e.innerBlocks.map((e=>e.clientId)),e.clientId,t.clientId),f(e.clientId)},W=(e,t)=>{var o,n,r,l;const a=m(t.clientId),s=m(e.clientId);if(parseInt(null!==(o=null==a?void 0:a.colSpan)&&void 0!==o?o:1)!==parseInt(null!==(n=null==s?void 0:s.colSpan)&&void 0!==n?n:1))return;const i=parseInt(null!==(r=null==a?void 0:a.rowSpan)&&void 0!==r?r:1),c=parseInt(null!==(l=null==s?void 0:s.rowSpan)&&void 0!==l?l:1);_(t.clientId,{rowSpan:i+c}),I(e.innerBlocks.map((e=>e.clientId)),e.clientId,t.clientId),f(e.clientId)},U=[{icon:T,title:(0,i.__)("Insert row before","tp"),isDisabled:!e||"tfoot"===z||"thead"===z,onClick:()=>O(-1)},{icon:P,title:(0,i.__)("Insert row after","tp"),isDisabled:!e||"tfoot"===z||"thead"===z,onClick:O},{icon:M,title:(0,i.__)("Delete row","tp"),isDisabled:!e||"tfoot"===z||"thead"===z,onClick:()=>{var e;const t=v(o);if(!t)return;const r=v(l);if(!r)return;const a=r.innerBlocks[n-1];(null==a?void 0:a.clientId)&&w(a.clientId)&&(f(a.clientId),_(o,{rows:(null===(e=t.attributes)||void 0===e?void 0:e.rows)-1}))}},{icon:N,title:(0,i.__)("Insert column before","tp"),isDisabled:!e,onClick:()=>E(-1)},{icon:D,title:(0,i.__)("Insert column after","tp"),isDisabled:!e,onClick:E},{icon:A,title:(0,i.__)("Delete column","tp"),isDisabled:!e,onClick:()=>{var e;const t=v(o);if(!t)return;const n=[];t.innerBlocks.forEach((e=>{e.name===j&&e.innerBlocks.forEach((e=>{if(e.name!==B)return;const t=e.innerBlocks[r-1];(null==t?void 0:t.clientId)&&w(t.clientId)&&n.push(t.clientId)}))})),k(n),_(o,{columns:(null===(e=t.attributes)||void 0===e?void 0:e.columns)-1})}},{icon:R,title:(0,i.__)("Merge column left","tp"),isDisabled:r<2,onClick:()=>{if(!v(o))return;const e=v(a);if(!e)return;const t=b(a,-1);if(!t)return;const n=v(t);n&&J(e,n)}},{icon:G,title:(0,i.__)("Merge column right","tp"),isDisabled:r===V,onClick:()=>{if(!v(o))return;const e=v(a);if(!e)return;const t=b(a,1);if(!t)return;const n=v(t);n&&J(n,e)}},{icon:L,title:(0,i.__)("Merge column up","tp"),isDisabled:n<2||"tfoot"===z||"thead"===z,onClick:()=>{const e=v(o);if(!e)return;const t=v(l);if(!t)return;let a,s;e.innerBlocks.some((e=>{var o;if(e.name!==j)return!1;const l=m(e.clientId);return(null==l?void 0:l.type)===(null===(o=null==t?void 0:t.attributes)||void 0===o?void 0:o.type)&&e.innerBlocks.some(((e,t)=>{const o=t+1;return!(e.name!==B||o!==n&&o!==n-1||!e.innerBlocks.length)&&(e.innerBlocks.some(((e,t)=>{const l=t+1;return l===r&&o===n?s=e:l===r&&o===n-1&&(a=e),!(!a||!s)})),!(!s||!a)&&(W(s,a),!0))}))}))}},{icon:F,title:(0,i.__)("Merge column down","tp"),isDisabled:n===C||"tfoot"===z||"thead"===z,onClick:()=>{const e=v(o);if(!e)return;const t=v(l);if(!t)return;let a,s;e.innerBlocks.some((e=>{var o;if(e.name!==j)return!1;const l=m(e.clientId);return(null==l?void 0:l.type)===(null===(o=null==t?void 0:t.attributes)||void 0===o?void 0:o.type)&&e.innerBlocks.some(((e,t)=>{const o=t+1;return!(e.name!==B||o!==n&&o!==n+1||!e.innerBlocks.length)&&(e.innerBlocks.some(((e,t)=>{const l=t+1;return l===r&&o===n?a=e:l===r&&o===n+1&&(s=e),!(!a||!s)})),!(!s||!a)&&(W(s,a),!0))}))}))}}];return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.BlockControls,{group:"other",children:(0,s.jsx)(p.ToolbarDropdownMenu,{icon:$,label:(0,i.__)("Edit table","tp"),controls:U})})})}(0,E.addFilter)("blocks.registerBlockType","travelopia/table-row-column-context",(e=>{const t=["travelopia/table-row","travelopia/table-column","travelopia/table-id","travelopia/table-row-container-id","travelopia/table-column-id"];return e.usesContext&&Array.isArray(e.usesContext)&&t.forEach((t=>{var o,n;(null===(o=e.usesContext)||void 0===o?void 0:o.includes(t))||null===(n=e.usesContext)||void 0===n||n.push(t)})),e})),(0,E.addFilter)("editor.BlockEdit","travelopia/table-toolbar",(e=>t=>{const{context:o,isSelected:n}=t;if(!o)return(0,s.jsx)(e,Object.assign({},t));const r=o["travelopia/table-row"],l=o["travelopia/table-column"],a=o["travelopia/table-id"],i=o["travelopia/table-row-container-id"],c=o["travelopia/table-column-id"];return!r||!l||!a||l<1||r<1?(0,s.jsx)(e,Object.assign({},t)):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J,{isSelected:n,tableRow:r,tableColumn:l,tableId:a,rowContainerId:i,columnId:c}),(0,s.jsx)(e,Object.assign({},t))]})}));[e].forEach((({init:e})=>e()))})()})();